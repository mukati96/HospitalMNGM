<div class="content-wrapper">
  <div class="row">
    <div class="hospital_profile">
      <div class="row">
        <div class="col-lg-4">
          <h1>Provider Profile</h1>
        </div>
        <div class="col-lg-8 text-end">
          <button class="btn btn5" [routerLink]="FULL_ROUTES.PATIENTS" routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }">
            <img src="../../../../../assets/images/icons/add8.svg" alt="" />
            Patients List
          </button>
          <button class="btn btn6" (click)="openAssPatinPopUp()">
            <img src="../../../../../assets/images/icons/add7.svg" alt="" />
            Assign Patients
          </button>
          <button class="btn btn4" (click)="viewProvider()">
            <img src="../../../../../assets/images/icons/btn4.svg" alt="" />
            Edit Details
          </button>
        </div>
      </div>
    </div>
    <div class="col-lg-9">
      <div class="profile_top">
        <div class="row">
          <div class="col-lg-3">
            <img *ngIf="!ProviderData.profile_pic" src="../../../../../assets/images/user_img.png" alt="user_img" />
            <img *ngIf="ProviderData.profile_pic" [src]="ProviderData.profile_pic | safeUrl" alt="" alt="user_img" />
          </div>
          <div class="col-lg-9">
            <div class="profile_right">
              <h2>{{ ProviderData?.full_name }}</h2>
              <div class="tax_id">
                <p>NPI ID :</p>
                <span> {{ ProviderData?.npi_data | optionalField }}</span>
              </div>
              <div class="tax_id">
                <p>Taxonomy Description :</p>
                <span> {{ ProviderData?.taxonomy_description | optionalField }}</span>
              </div>
              <div class="tax_id">
                <p>E-Mail ID:</p>
                <span> {{ ProviderData?.email | optionalField }}</span>
              </div>
              <div class="tax_id">
                <p>Contact Number:</p>
                <span> {{ ProviderData?.contact_number | optionalField }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="profile_box pb-3">
        <form class="">
          <div class="row mb-5">
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">NPI ID</label>
              <input type="" class="p-inputtext p-component p-element form-control" [(ngModel)]="ProviderData.npi_data"
                [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Taxonomy Code Set</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.taxonomy_code_set" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Taxonomy Code</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.taxonomy_code" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Taxonomy Description</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.taxonomy_description" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">First Name</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.first_name" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Middle Name</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.middle_name" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Last Name</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.last_name" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Email ID</label>
              <input type="email" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.email" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Phone Number 1</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.contact_number" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Phone Number 2</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.contact_number_two" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Address 1</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.address_1" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">Address 2</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.address_2" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">City*</label>
              <input type="text" class="p-inputtext p-component p-element form-control" [(ngModel)]="ProviderData.city"
                [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label">State *</label>
              <input type="text" class="p-inputtext p-component p-element form-control" [(ngModel)]="ProviderData.state"
                [ngModelOptions]="{ standalone: true }" readonly />
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 mt-md-3">
              <label class="form-label"> Zip*</label>
              <input type="text" class="p-inputtext p-component p-element form-control"
                [(ngModel)]="ProviderData.zip_code" [ngModelOptions]="{ standalone: true }" readonly />
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="col-lg-3">
      <div class="profile_right_box">
        <p>Added Date</p>
        <h3>{{ statsData?.added_date | date }}</h3>
        <p>On-Going Treatments</p>
        <h3>{{ statsData?.on_going_treatments }}</h3>
        <p>Active Treatments</p>
        <h3>{{ statsData?.active_treatments }}</h3>
        <p>Inactive Treatments</p>
        <h3>{{ statsData?.inactive_treatments }}</h3>
        <p>Total Treatments Completed</p>
        <h3>{{ statsData?.total_treatment_completed }}</h3>
        <p>Total Patients</p>
        <h3>{{ statsData?.total_patient }}</h3>
        <p>Active Patients</p>
        <h3>{{ statsData?.active_patient }}</h3>
        <p>Inactive Patients</p>
        <h3>{{ statsData?.inactive_patient }}</h3>
        <p>Total Working Hours</p>
        <h3>{{ statsData?.total_working_hours }}</h3>
      </div>
    </div>
  </div>
</div>

<section>
  <p-dialog [(visible)]="displayAdminForm" [breakpoints]="{ '960px': '75vw', '640px': '100vw' }"
    [style]="{ width: '50vw' }" (onHide)="closeAdminDialog()" [modal]="true" [draggable]="false" [resizable]="false"
    [closable]="true" [showHeader]="true" [baseZIndex]="10000">
    <p-table #dt1 [value]="_patient" [rows]="10" styleClass="p-datatable-sm"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [globalFilterFields]="['title', 'first_name', 'last_name']" [(selection)]="selectedPatient">
      <ng-template pTemplate="caption">
        <div class="row select_patient">
          <div class="col-lg-6">
            <h5 class="title mt-2">Select Patients</h5>
          </div>
          <div class="col-lg-6 text-end">
            <input pInputText type="text" #event (input)="getPatientsList(event.value)" placeholder="Search"
              class="search_select" />
            <img src="../../../../../assets/images/icons/search.png" alt="" />
          </div>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 3.3em">
            <p-tableHeaderCheckbox (click)="
                isSlectedPatient = !isSlectedPatient;
                checkPatientActiveOrDeactive()
              ">
            </p-tableHeaderCheckbox>
          </th>
          <th>S.no.</th>
          <th>Patient Name</th>
          <th>Provider Name</th>
          <th>ch1</th>
          <th>ch2</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowIndex="rowIndex" let-providers>
        <tr>
          <td>
            <p-tableCheckbox [value]="providers"  [disabled]="providers.isactive === '0'" data-toggle="tooltip"
              data-title="{{ providers.isactive === '0' ? 'data' : '' }}">
            </p-tableCheckbox>
          </td>
          <td>{{ rowIndex + 1 }}</td>
          <td>{{ providers?.patient_name | optionalField }}</td>
          <td>{{ providers?.provider_assigned | optionalField }}</td>
          <td>{{ providers?.condition1 | optionalField }}</td>
          <td>{{ providers?.condition2 | optionalField }}</td>
        </tr>
      </ng-template>
    </p-table>
    <div class="row">
      <div class="col-4 countMsg" [innerHTML]="showCountMsg"></div>
      <div class="col-8 countMsg1 mt-2" *ngIf="_patient.length">
        <p-paginator [rows]="10" [pageLinkSize]="3" [totalRecords]="totalRecords" (onPageChange)="paginate($event)">
        </p-paginator>
      </div>
    </div>
    <ng-template pTemplate="footer">
      <div class="col-lg-12 text-end">
        <button class class="btn btn-primary adminButton btnColor" type="button"
          (click)="getpatientCol(selectedPatient)" [disabled]="!selectedPatient.length">
          Add
        </button>
      </div>
    </ng-template>
  </p-dialog>
</section>

<!-- Confirmation dialog to add assigned patients -->
<p-confirmDialog
  [breakpoints]="{ '960px': '75vw', '640px': '100vw' }"
  [style]="{ width: '35vw' }"
  styleClass="confirm-dialog"
  [baseZIndex]="10000"
  rejectButtonStyleClass="p-button-cancel"
  acceptButtonStyleClass="p-button-confirm">
</p-confirmDialog>
